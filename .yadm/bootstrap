#!/bin/bash
is_linux () {
  [[ $('uname') == 'Linux' ]];
}

is_osx () {
  [[ $('uname') == 'Darwin' ]]
}

# vim
which vim > /dev/null || sudo apt-get -y install vim

# ZSH
git clone git://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh
chsh -s $(which zsh)
git clone git://github.com/zsh-users/zsh-autosuggestions ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-autosuggestions
git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting

# ZSH Powerline
git clone https://github.com/bhilburn/powerlevel9k.git ~/.oh-my-zsh/custom/themes/powerlevel9k

# Tmux
which tmux > /dev/null || sudo apt-get -y install tmux

# z
git clone https://github.com/rupa/z.git ~/.z

# fzf
git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf
~/.fzf/install

# Brew and Powerline
if is_osx; then
  if [[ ! -f '/usr/local/bin/brew' ]]; then
    ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
  fi
  if [[ ! -f '/usr/local/bin/python' ]]; then
    brew install python
  fi
  BREW_PYTHON="/usr/local/bin/python"
  which pip > /dev/null || curl https://bootstrap.pypa.io/get-pip.py | $BREW_PYTHON
  $BREW_PYTHON install powerline-status
elif is_linux; then
  which pip > /dev/null || sudo curl https://bootstrap.pypa.io/get-pip.py | sudo python
  sudo pip install powerline-status
fi
